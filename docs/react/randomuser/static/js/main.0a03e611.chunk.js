(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/react_logo.5d5d9eef.svg"},function(e,t,n){e.exports=n(24)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(7),r=n.n(s),i=(n(14),n(1)),c=n(2),l=n(4),u=n(3),d=n(5),p=(n(16),n(18),n(20),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Person"},o.a.createElement("div",{className:"Person-picture-container"},o.a.createElement("img",{className:"Person-picture",src:this.props.person.picture.large,alt:this.FullName})),o.a.createElement("div",{className:"Person-info"},o.a.createElement("div",{className:"Person-info-entry"},o.a.createElement("div",{className:"Person-info-subject"},"Title"),o.a.createElement("div",{className:"Person-info-value"},this.Title)),o.a.createElement("div",{className:"Person-info-entry"},o.a.createElement("div",{className:"Person-info-subject"},"Name"),o.a.createElement("div",{className:"Person-info-value"},this.FullName)),o.a.createElement("div",{className:"Person-info-entry"},o.a.createElement("div",{className:"Person-info-subject"},"Birth date"),o.a.createElement("div",{className:"Person-info-value"},this.BirthDate," (",this.props.person.dob.age,")")),o.a.createElement("div",{className:"Person-info-entry"},o.a.createElement("div",{className:"Person-info-subject"},"Phone"),o.a.createElement("div",{className:"Person-info-value"},this.props.person.phone))))}},{key:"FullName",get:function(){return this.props.person.name.first+" "+this.props.person.name.last}},{key:"BirthDate",get:function(){return new Date(this.props.person.dob.date).toDateString()}},{key:"Title",get:function(){return this.props.index?"".concat(this.props.person.name.title," #").concat(this.props.index):this.props.person.name.title}}]),t}(a.Component)),m=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Total persons count: ",this.props.persons.length,"."),this.props.error,this.props.persons.map(function(e,t){return o.a.createElement(p,{person:e,key:e.login.uuid,index:t})}))}}]),t}(a.Component),h=n(8),f=n.n(h),v=(n(22),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Loading"},o.a.createElement("img",{src:f.a,className:"Loading-logo",alt:"loading"}),o.a.createElement("span",null,this.props.value))}}]),t}(a.Component));v.defaultProps={value:"Loading"};var g=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onScroll=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&n.state.persons.length&&!n.state.loading&&(n.setState({scrollY:window.scrollY}),n.loadAdditionalPersons())},n.state={persons:[],status:void 0,loading:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!1),this.loadAdditionalPersons()}},{key:"componentWillMount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"loadAdditionalPersons",value:function(){var e=this;console.log("".concat((new Date).toISOString(),": Fetching persons data start")),this.setState({status:"Fetching data",loading:!0}),fetch("https://randomuser.me/api?results=20").then(function(t){return e.setState({status:"Parsing data"}),t.json()}).then(function(t){return e.setState({persons:e.state.persons.concat(t.results)}),console.log("".concat((new Date).toISOString(),": Fetching persons data completed")),e.setState({status:"Parsing completed",loading:!1}),e.state.scrollY}).then(function(e){console.log("Loading scrollY: ".concat(e)),e&&window.scrollTo(0,e)}).catch(function(t){e.setState({error:t}),console.log("".concat((new Date).toISOString(),": Fetching persons data error: ").concat(t))})}},{key:"render",value:function(){var e,t,n=(e=m,t=this.state.status,function(n){return n.isLoading?o.a.createElement(v,{value:t}):o.a.createElement(e,n)});return o.a.createElement(n,{isLoading:this.state.loading,persons:this.state.persons})}}]),t}(o.a.Component),b=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(g,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,2,1]]]);
//# sourceMappingURL=main.0a03e611.chunk.js.map